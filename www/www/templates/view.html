
{% extends "base.html" %}

{% block title %}爪爪窩 分享與紀錄寵物的俏皮模樣{% endblock %}

{% block content %} 
<div ng-controller="main-index-block">
	<div class="ui icon input  search-block" >
	  	<input type="text" placeholder="搜尋有興趣的寵物..." >
	  	<i class="search icon" title="搜尋"></i>
	</div>
	<div class="main-intro-block">
		<section>
			<header><h1>爪爪窩<span class="main-paw">paw</span></h1></header>
			<p>分享&保存寵物的俏皮模樣 <i class="ui edit icon">...</i></p>
			<div class="ui huge buttons main-intro-menu" >
			 	<button ng-click="joinMember.pushAddToggle()" class="ui red  button add-button <%joinMember.addChange%>" ><i class="hand left icon"></i> 飼主申請</button>
			 	<span class="or"></span>
			 	<button ng-click="loginMember.pushLoginToggle()" class="ui blue button login-button <%loginMember.loginChange%>" >飼主登入<i class="hand right icon"></i></button>
			</div>
		</section>
	</div>

	<div class="main-sign-in-block" >
		<section>
			<header><h3><i class="sign in icon"></i>飼主登入<i class="remove icon" title="關閉"></i></h3></header>
			<form name="loginForm" action="." method="post" class="ui form segment">
			  {% csrf_token %}  
				<div class="field">
					<label>登入帳號</label>
				 	<div class="ui left labeled icon input">
					     <input 
					      	type = "text" 
					      	placeholder = "Username"
					      	name = "username"
					      	data-my-focus = "inputFocus" 
					      	ng-model = "loginMember.loginAccount"
					      	ng-pattern = "<% onlyStrAndNum %>"
					      	ng-keyup = "accountShow=true"
		        				required
					      />
					      <i class="user icon"></i>
					      <div class="ui corner label">
					     		<i class="icon asterisk"></i>
				      	</div>
				   	</div>
				</div>
		  		<div class="error" 
			        ng-show="accountShow && loginForm.username.$dirty && !loginForm.username.$valid">
				    <div class="ui red small message">
				        	<li ng-show="accountShow && loginForm.username.$error.required">
				        		帳號不能是空值
				    		</li>
				    		<li ng-show="accountShow && loginForm.username.$error.pattern">
				         		帳號只能是字母或數字
				     		</li>
				     	</div>
			  	</div>
			  	<div class="field">
			   		<label>登入密碼</label>
			    		<div class="ui left labeled icon input">
				      	<input 
				      		type = "password" 
				      		placeholder = "password"
				      		name = "pwd"
				      		ng-model= "loginMember.loginPassword"
				      		ng-pattern = "<% onlyStrAndNum %>"
				      		ng-keyup = "pwdShow=true"
							required
				     		/>
				      	<i class="lock icon"></i>
				      	<div class="ui corner label">
				        		<i class="icon asterisk"></i>
			      		</div>
			    		</div>
			  	</div>
				<div class="error" 
				      ng-show="pwdShow && loginForm.pwd.$dirty && !loginForm.pwd.$valid">
					<div class="ui red small message">
					  	<li ng-show="pwdShow && loginForm.pwd.$error.required">
							密碼不能是空值
						</li>
						<li ng-show="pwdShow && loginForm.pwd.$error.pattern">
							密碼只能是字母或數字
						</li>
					</div>
				</div>
			  <div class="ui error message">
			    <div class="header">We noticed some issues</div>
			  </div>
			  <button type="submit" class="ui blue submit button" ng-disabled="!loginForm.$valid">登入</button>
				<div class="ui horizontal divider">或使用</div>
				<div class="social-login">
					<div class="ui facebook button">
					  <i class="facebook icon"></i>FACEBOOK 臉書
					</div>
					<div class="ui google plus button">
					  <i class="google plus icon"></i>GOOGLE 谷歌 
					</div>
				</div>
			</form>
		</section>
	</div>

	<div class="main-add-in-block" >
		<section>
			<header><h3><i class="add sign icon" ></i>飼主申請<i class="remove  icon" title="關閉" ng-model="checked"></i></h3></header>
			<form name="addForm" class="ui form segment" method="POST" action="." ng-submit="joinMember.addSend()"   >
				  {% csrf_token %}  
				  <div class="ui warning message">
				    <div class="header">Could you check something!</div>
				    <ul class="list">
				      <li>You forgot your <b>first name</b></li>
				      <li>And also your <b>last name</b></li>
				    </ul>
				  </div>
				  <div class="field">
				    <label><i class="user icon"></i> 飼主帳號</label>
				    <input 
				    		placeholder = "username" 
				    		type = "text" 
				    		name = "username"
				    		data-my-focus = "inputFocus"
				    		ng-model = "joinMember.addAccount"
				    		ng-pattern = "<% onlyStrAndNum %>"
				    		ng-minlength = 3 
        					ng-maxlength = 30 
        					ng-keyup = "accountShow=true"
        					required
				    	/>
				    <div class="error" 
				        ng-show="accountShow && addForm.username.$dirty && !addForm.username.$valid">
					    <div class="ui red small message">
					        	<li ng-show="accountShow && addForm.username.$error.required">
					        		帳號不能是空值
					    		</li>
					    		<li ng-show="accountShow && addForm.username.$error.minlength">
					           	帳號長度至少要超過3個字
					    		</li>
					   		<li ng-show="accountShow && addForm.username.$error.maxlength">
					           	帳號長度不能超過20個字
					    		</li>
					    		<li ng-show="accountShow && addForm.username.$error.pattern">
					         		帳號只能是字母或數字
					     		</li>
					     		<li ng-show="accountShow && addForm.username.$error.unique">
					         		此帳號已存在,請另取一個
					     		</li>
					     	</div>
				  </div>
				  <div class="field">
				    <label><i class="lock icon"></i>  登入密碼</label>
				    <input 
				    		placeholder = "password" 
				    		type = "password"
				    		name = "pwd"
				    		ng-model = "joinMember.addPassword"
				    		ng-pattern = "<% onlyStrAndNum %>"
				    		ng-minlength = 8 
        					ng-maxlength = 20 
        					ng-keyup = "pwdShow=true"
        					required
				    	/>
				  </div>
				  <div class="error" 
				        ng-show="pwdShow && addForm.pwd.$dirty && !addForm.pwd.$valid">
					    <div class="ui red small message">
					        	<li ng-show="pwdShow && addForm.pwd.$error.required">
					        		密碼不能是空值
					   		</li>
					    		<li ng-show="pwdShow && addForm.pwd.$error.minlength">
					           	密碼長度至少要超過8個字
					   		</li>
					   		<li ng-show="pwdShow && addForm.pwd.$error.maxlength">
					           	密碼長度不能超過20個字
					    		</li>
					    		<li ng-show="pwdShow && addForm.pwd.$error.pattern">
					         		密碼只能是字母或數字
					     		</li>
					  	</div>
				  </div>
				  <div class="field">
				    <label><i class="inbox icon"></i>  電子信箱</label>
				    <input 
				    		placeholder = "account@domain.com" 
				    		type = "email" 
				    		name = "eml"
				    		ng-model = "joinMember.addEmail"
				    		ng-keyup = "emlShow=true"
        					required
				    	/>
				  </div>
				  <div class="error" 
				        ng-show="emlShow && addForm.eml.$dirty && !addForm.eml.$valid">
					    <div class="ui red small message">
				    			<li ng-show="emlShow && addForm.eml.$error.required">
				        			電子信箱不能是空值
				        		</li>
				    			<li ng-show="emlShow && addForm.eml.$invalid">
				    				電子信箱格式錯誤
				    			</li>
					    	</div>
				  </div>

				 <div class="inline field">
				  	<div class="ui toggle checkbox" ng-click="joinMember.change()">
				  		<input class="add-eml" type="checkbox">
				  		<label><%joinMember.msg%></label>
				  	</div>
				  	<button type="submit" class="ui blue submit button" ng-show="joinMember.showAdd" ng-disabled="!addForm.$valid">申請</button>
				</div>
				<div class="ui horizontal divider">或使用</div>
				<div class="social-login">
					<div class="ui facebook button">
					  <i class="facebook icon"></i>FACEBOOK 臉書
					</div>
					<div class="ui google plus button">
					  <i class="google plus icon"></i>GOOGLE 谷歌 
					</div>
				</div>
			</form>
		</section>
	</div>
	<div class="fullscreen-main">main background</div>
	<div class="fullscreen-mask" data-my-mask="level">full mask</div>
</div>


{% endblock %}

{% block loadjs %}
<script>
	 $jq(window).load(function(){
	 	{{load}}();
	});
</script>
{% endblock %}




